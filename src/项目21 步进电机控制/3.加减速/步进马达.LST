C51 COMPILER V9.00   ²½½__í´ï                                                              08/22/2015 13:59:50 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE ²½½__í´ï
OBJECT MODULE PLACED IN ²½½øÂí´ï.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE ²½½øÂí´ï.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          /*************************************************************************************
   2          *  ±êÌâ:  ²½½øµç»úÊÔÑéÈý£¨¼Ó¼õËÙÔËÐÐ£©                                                                                           *
   3          *                                                                                                                                                                        *
   4          *    Í¨¹ý±¾Àý³ÌÁË½â²½½øÂí´ïÊ¹ÓÃ¼°Çý¶¯³ÌÐò±àÐ´                                                                            *
   5          *;   µ¥Ë«°ËÅÄ¹¤×÷·½Ê½£º                                                                  *
   6          *;   A-AB-B-BC-C-CD-D-DA                                                                 *
   7          *                                                                                        *                                                                                                               *
   8          **************************************************************************************/
   9          //½ÓÏß·½·¨£ºÇëÄãÒ»¶¨Òª¿´£¬²½½øµç»ú¶Å°îÏß½Ó·½·¨ ²½½øµç»úÄ£¿éÉÏ¡°-¡±½Óµ½¿ª·¢°åÉÏµÄGND ¡°+½ÓVCC
  10          //IN1~IN4 ·Ö±ð½Óµ½P1.0~P1.3¡±
  11           
  12           #include "reg52.h"
  13          
  14           void delay();
  15          
  16           //Motor
  17          sbit F1 = P1^0;
  18          sbit F2 = P1^1;
  19          sbit F3 = P1^2;
  20          sbit F4 = P1^3;
  21          
  22          unsigned char code FFW[8]={0xfe,0xfc,0xfd,0xf9,0xfb,0xf3,0xf7,0xf6}; //·´×ª
  23          unsigned char code FFZ[8]={0xf6,0xf7,0xf3,0xfb,0xf9,0xfd,0xfc,0xfe}; //Õý×ª
  24          unsigned int  K, rate;
  25          
  26          
  27          /**********************************************************
  28          *                                                                                                                 *
  29          *                 ²½½øµç»úÇý¶¯                                                    *
  30          ***********************************************************/
  31          void  motor_ffw()
  32           { 
  33   1         unsigned char i;
  34   1      
  35   1            for (i=0; i<8; i++)
  36   1              {
  37   2                P1 = FFW[i]&0x1f;  //È¡Êý¾Ý
  38   2                      
  39   2                delay();           //µ÷½Ú×ªËÙ
  40   2              }
  41   1           } 
  42          
  43          /********************************************
  44                   ÑÓÊ±³ÌÐò
  45          *********************************************/
  46          
  47           void delay()   
  48          {                           
  49   1         unsigned int k,t;
  50   1          t=rate;
  51   1         while(t--)
  52   1         {
  53   2           for(k=0; k<200; k++)
  54   2           { }
  55   2         }
C51 COMPILER V9.00   ²½½__í´ï                                                              08/22/2015 13:59:50 PAGE 2   

  56   1      }
  57          
  58          
  59          /********************************************************
  60          *                                                       
  61          *²½½øµç»úÔËÐÐ                                               
  62          *                                                      
  63          *********************************************************/
  64          void  motor_turn()
  65          { 
  66   1         unsigned char x;
  67   1         rate=0x09;
  68   1         x=0x40;
  69   1         do
  70   1           {
  71   2                motor_ffw();          //¼ÓËÙ
  72   2            rate--;
  73   2               }while(rate!=0x01);
  74   1         do
  75   1           {     
  76   2                 motor_ffw();        //ÔÈËÙ
  77   2                 x--;
  78   2               }while(x!=0x01);
  79   1               
  80   1         do
  81   1           {
  82   2                motor_ffw();         //¼õËÙ
  83   2            rate++;
  84   2               }while(rate!=0x09);    
  85   1      }
  86          
  87          main() 
  88          { 
  89   1          while(1)
  90   1              {
  91   2               motor_turn();
  92   2              }
  93   1      }
  94          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    121    ----
   CONSTANT SIZE    =     16    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      4       2
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
